---
title: "ã€UE5ã€‘Pixel Streaming ã‚’ä½¿ã£ã¦ã¿ã‚‹"
emoji: "ğŸ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["UnrealEngine5", "PixelStreaming"]
published: true
---

Unreal Engine 5 ã® Pixel Streamingã®è¨˜äº‹ã‚’æ›¸ãã¾ã™ã€‚

# Pixel Stremaing ã¨ã¯

å‰å›ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

[ã€UE5ã€‘Pixel Streaming ã¨ã¯ï¼Ÿ](https://zenn.dev/tkmkik/articles/pixel_streaming_01)

## ç’°å¢ƒ

ä»¥ä¸‹ã®ç’°å¢ƒã§å‹•ã‹ã—ã¦ã„ãã¾ã™ã€‚

- windows 11
- UE 5.3.2
- Pixel Streaming Infrastructure
    - [EpicGamesExt/PixelStreamingInfrastructure](https://github.com/EpicGamesExt/PixelStreamingInfrastructure)
- node@22

## ç’°å¢ƒæ§‹ç¯‰

### UEã§Third Personã‚’ä½œã‚‹

UEã‚’èµ·å‹•ã—Third Personã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’èµ·å‹•ã—ã¾ã™ã€‚

![](/images/pixelstreaming2-1.png)

### Pixel Streamingãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å°å…¥ã™ã‚‹

å·¦ä¸Šã®ãƒ¡ãƒ‹ãƒ¥ãƒãƒ¼ã‹ã‚‰ã€€ã€Œç·¨é›†ã€ï¼ã€Œãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã€ã‚’é–‹ãã€æ¤œç´¢çª“ã«ã€ŒPixelStreamingã€ã¨å…¥åŠ›ã—ã¦

- Pixel Streaming
- Pixel Streaming Playerã‚’å°å…¥ã™ã‚‹

![](/images/pixelstreaming2-2.png)

### UE Editorã‹ã‚‰PixelStreamingã®ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•

å†ç”Ÿãƒœã‚¿ãƒ³ãªã©ãŒã‚ã‚‹ãƒãƒ¼ã«ã€Pixel Streaming Playerã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

ã€Œã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã€ã‚’æŠ¼ä¸‹ã™ã‚‹ã¨ã€ã€ŒPixel Streaming Infrastructureã€ã®ä¸­ã®ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ã¨åŒç­‰ã®ã‚‚ã®ãŒèµ·å‹•ã—ã¾ã™ã€‚

![](/images/pixelstreaming2-3.png)

ã€Œãƒ¬ãƒ™ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã€ã‚’æŠ¼ä¸‹ã™ã‚‹ã¨ãƒ¬ãƒ™ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿ãŒé…ä¿¡ã•ã‚Œã¾ã™ã€‚ã€ŒPixel Streaming Infrastructureã€ã®ä¸­ã®ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ã¨ä¼¼ãŸç’°å¢ƒã‚’ç”¨æ„ã§ãã¾ã™ã€‚

![](/images/pixelstreaming2-4.png)

ãƒ•ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿ã‚’é…ä¿¡ã™ã‚‹ã¨é–‹ç™ºç’°å¢ƒæ¯é…ä¿¡ã§ãã¾ã™ã€‚

ä»Šå›ã¯

- ã€Œã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã€
- ã€Œãƒ¬ãƒ™ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã€

ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦èµ·å‹•ã—ã¦ãã ã•ã„ã€‚

### ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰UEã‚’ä½¿ã†

ä»»æ„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã€äº‹å‰ã«è¨­å®šã—ãŸã‚¢ãƒ‰ãƒ¬ã‚¹ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚ç‰¹ã«å¤‰æ›´ãŒãªã‘ã‚Œã°ã€Œhttp://localhost:80ã€

![](/images/pixelstreaming2-5.png)

ä¸Šè¨˜ã®ã‚ˆã†ãªç”»é¢ãŒã§ã¦ã„ã‚Œã°ã€Œã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ã€ã¯èµ·å‹•æˆåŠŸã§ã™ã€‚

### UEã‹ã‚‰ã‚¢ãƒ—ãƒªã‚’èµ·å‹•

UEå´ã§ã‚²ãƒ¼ãƒ ã‚’å†ç”Ÿã—ã¦ãã ã•ã„ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã®ç”»é¢ã¯Unrealã®ãƒ¬ãƒ™ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿ã¨åŒã˜ãå†ç”Ÿç”»é¢ã«ãªã£ã¦ãŠã‚Šã€ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚²ãƒ¼ãƒ ã‚’ä½“é¨“ã§ãã¾ã™ã€‚

![](/images/pixelstreaming2-6.png)

ã²ã¨ã¾ãšã¯å®Œæˆã§ã™ã€‚ãƒªãƒªãƒ¼ã‚¹ã‚’è€ƒãˆã‚‹ã¨ã“ã®æ–¹æ³•ã¯ä½¿ãˆãªã„ã®ã§Pixel Streaming Infrastructureã‚’ä½¿ã†æ–¹æ³•ã‚’æ›¸ãã¾ã™ã€‚

### Pixel Streaming Infrastructureã§PixelStreamingã‚’ã™ã‚‹æ–¹æ³•

1. GitHubã‹ã‚‰è‡ªåˆ†ã®UEãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«åˆã‚ã›ãŸãƒ–ãƒ©ãƒ³ãƒã‚’é¸æŠã™ã‚‹
    - UE5.3:ã€€https://github.com/EpicGamesExt/PixelStreamingInfrastructure/tree/UE5.3 

2. ã“ã‚Œã‚’DLã€zipè§£ç­”ã‚’ã™ã‚‹
3. `PixelStreamingInfrastructure-UE5.3\PixelStreamingInfrastructure-UE5.3\SignallingWebServer\platform_scripts\cmd`ã“ã®ãƒ‘ã‚¹ã‚’é–‹ã
4. Powershellã§ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹

    ```sh
    setup.bat
    ```

5. `Start_SignallingServer.ps1`ã‚’å®Ÿè¡Œã™ã‚‹

ã“ã®ã¨ãæ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆã¯PS1ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè¡Œæ¨©é™ãŒãªã„ã€‚

```
.\Start_SignallingServer.ps1 : ãƒ•ã‚¡ã‚¤ãƒ« C:\Users\username\Documents\UE\PixelStreamingInfrastructure-UE5.3\PixelStreami
ngInfrastructure-UE5.3\SignallingWebServer\platform_scripts\cmd\Start_SignallingServer.ps1 ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã€‚ãƒ•ã‚¡ã‚¤ãƒ« C
:\Users\username\Documents\UE\PixelStreamingInfrastructure-UE5.3\PixelStreamingInfrastructure-UE5.3\SignallingWebServe
r\platform_scripts\cmd\Start_SignallingServer.ps1 ã¯ãƒ‡ã‚¸ã‚¿ãƒ«ç½²åã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ç¾åœ¨ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã¯å®Ÿè¡Œ
ã§ãã¾ã›ã‚“ã€‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡ŒãŠã‚ˆã³å®Ÿè¡Œãƒãƒªã‚·ãƒ¼ã®è¨­å®šã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€ã€Œabout_Execution_Policiesã€(https://go.microsoft
.com/fwlink/?LinkID=135170) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
ç™ºç”Ÿå ´æ‰€ è¡Œ:1 æ–‡å­—:1
+ .\Start_SignallingServer.ps1
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ ã‚¨ãƒ©ãƒ¼: (: ) []ã€PSSecurityException
    + FullyQualifiedErrorId : UnauthorizedAccess
```

ãã®å ´åˆã¯ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã§æ¨©é™ãƒãƒªã‚·ãƒ¼ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨

```
Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass 
```

å†åº¦å®Ÿè¡Œã—ã¦

```
09:42:20.429 peerConnectionOptions = {"iceServers":[{"urls":["stun:stun.l.google.com:19302"]}]}
09:42:20.484 Running Cirrus - The Pixel Streaming reference implementation signalling server for Unreal Engine 5.3.
09:42:20.879 WebSocket listening for Streamer connections on :8888
09:42:20.880 WebSocket listening for SFU connections on :8889
09:42:20.881 WebSocket listening for Players connections on :80
09:42:20.882 Http listening on *: 80
```

ã“ã®ã‚ˆã†ãªã‚‰ãƒ­ã‚°ãŒå‡ºã‚Œã°æˆåŠŸã§ã™ã€‚

### ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã—ãŸexeã¨ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ã‚’ç´ã¥ã‘ã‚‹

æœ€å¾Œã®æ‰‹é †ã§ã™ã€‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã—ãŸUEã¨ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ã‚’ç´ã¥ã‘ã¦èµ·å‹•ã—ã¾ã™ã€‚

ã€Œãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€ï¼ã€ŒWindowsã€ï¼ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã€ã‚’é¸æŠã—ä»»æ„ã®å ´æ‰€ã‚’é¸æŠã—å®Ÿè¡Œã—ã¾ã™ã€‚

exeåŒ–ãŒå®Œäº†ã—ãŸã‚‰ã€exeã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

æ¬¡ã«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’é–‹ãã¾ã™ã€‚ãƒªãƒ³ã‚¯ã«æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å«ã‚ã¾ã™ã€‚`-AudioMixer -PixelStreamingIP=localhost -PixelStreamingPort=8888`

![](/images/pixelstreaming2-7.png)

ã“ã“ã¾ã§å®Œäº†ã—ãŸã‚‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆçµŒç”±ã§UEã‚¢ãƒ—ãƒªã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

ã‚ã‚‰ãŸã‚ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ http://localhost ã‚’é–‹ãã¾ã™ã€‚

![](/images/pixelstreaming2-8.png)

ä¸Šã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã‚Œã°ã€exeã¨ã‚·ã‚°ãƒŠãƒªãƒ³ã‚°ã‚µãƒ¼ãƒãƒ¼ã®ç´ã¥ã‘ã‚’å®Œäº†ã§ãã¾ã—ãŸã€‚


## æœ€å¾Œã«

PixelStreamingã®ç’°å¢ƒæ§‹ç¯‰ã¯ã•ã»ã©é›£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚åŒã˜ã‚ˆã†ãªæ‰‹é †ã‚’è¡Œãˆã°EC2ã®Windowsã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚„ã€Linuxã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã‚‚ç’°å¢ƒæ§‹ç¯‰ãŒå¯èƒ½ã§ã™ã€‚

## å‚è€ƒæ–‡çŒ®

https://dev.epicgames.com/documentation/ja-jp/unreal-engine/getting-started-with-pixel-streaming-in-unreal-engine